package collision;

public class RTreeClass {
/*
	SpatialIndex si;
	RTree tree;
	//PRTree<Rectangle2D> prtree = new PRTree<Rectangle2D> (new Rectangle2DConverter (), 30);
	//ArrayList<com.infomatiq.jsi.Rectangle> objectRects = new ArrayList<com.infomatiq.jsi.Rectangle>();

	int id=0;
	private EngineDatabase dataBase;

	public RTreeClass(EngineDatabase dataBase){
		this.dataBase=dataBase;
		si = new RTree();
		si.init(null);
		tree=(RTree) si;
	}

	public void addToRTree(Collider c){

		si.add(c.getrTreeBounds(), id);
		c.setGridID(id);
		//objectRects.add(c.getrTreeBounds());
		id++;
		System.out.println("RTree size is now: "+si.size());
	}

	public void deleteFromTree(Collider c){
		si.delete(c.getrTreeBounds(), id);
		id--;
		System.out.println("RTree size is now: "+si.size());
	}

	public SpatialIndex getTree() {
		return si;
	}

	public SpatialIndex getSi() {
		return si;
	}

	public ArrayList<com.infomatiq.jsi.Rectangle> getObjectRects() {
		return objectRects;
	}

	public void clearTree() {
		id=0;
		//objectRects.clear();

		for(Map.Entry<Integer, collision.Collider> collider  : dataBase.getAllCollidersMap().entrySet()){
	//		System.out.println(si.delete(collider.getValue().getrTreeBounds(), collider.getValue().getRTreeID()));
		}
		System.out.println("RTree size is now: "+si.size());
	}
	public void rebuildTree(){
		si = new RTree();
		si.init(null);
	}
*/
}
